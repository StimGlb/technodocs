<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cahier des Charges - Am√©lioration d'un Objet Technique</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Space+Grotesk:wght@500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --color-primary: #6366f1;
            --color-primary-dark: #4f46e5;
            --color-primary-light: #a5b4fc;
            --color-secondary: #06b6d4;
            --color-accent: #f59e0b;
            --color-success: #10b981;
            --color-error: #ef4444;
            --color-white: #ffffff;
            --color-gray-50: #f9fafb;
            --color-gray-100: #f3f4f6;
            --color-gray-200: #e5e7eb;
            --color-gray-300: #d1d5db;
            --color-gray-400: #9ca3af;
            --color-gray-500: #6b7280;
            --color-gray-600: #4b5563;
            --color-gray-700: #374151;
            --color-gray-800: #1f2937;
            --color-gray-900: #111827;
            --font-main: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            --font-display: 'Space Grotesk', var(--font-main);
            --text-xs: 0.75rem; --text-sm: 0.875rem; --text-base: 1rem;
            --text-lg: 1.125rem; --text-xl: 1.25rem; --text-2xl: 1.5rem;
            --space-1: 0.25rem; --space-2: 0.5rem; --space-3: 0.75rem;
            --space-4: 1rem; --space-5: 1.25rem; --space-6: 1.5rem;
            --space-8: 2rem; --space-10: 2.5rem; --space-12: 3rem;
            --radius-sm: 0.375rem; --radius-md: 0.5rem; --radius-lg: 0.75rem;
            --radius-xl: 1rem; --radius-full: 9999px;
            --shadow-sm: 0 1px 2px rgba(0,0,0,0.05);
            --shadow-md: 0 4px 6px -1px rgba(0,0,0,0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0,0,0,0.1);
            --shadow-xl: 0 20px 25px -5px rgba(0,0,0,0.1);
            --transition-fast: 150ms ease;
            --transition-base: 250ms ease;
            --container-max: 900px;
            --header-height: 70px;
            --color-indigo-50: #eef2ff;
            --color-indigo-100: #e0e7ff;
            --color-secondary-dark: #0891b2;
        }
        *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; }
        body {
            font-family: var(--font-main);
            font-size: var(--text-base);
            line-height: 1.6;
            color: var(--color-gray-700);
            background-color: var(--color-gray-50);
            -webkit-font-smoothing: antialiased;
            min-height: 100vh;
        }
        .header {
            position: fixed; top: 0; left: 0; right: 0;
            height: var(--header-height);
            background: var(--color-white);
            border-bottom: 1px solid var(--color-gray-200);
            z-index: 1000;
            display: flex; align-items: center;
        }
        .header__container {
            max-width: var(--container-max); width: 100%;
            margin: 0 auto; padding: 0 var(--space-4);
            display: flex; align-items: center; justify-content: space-between;
        }
        .header__logo {
            display: flex; align-items: center; gap: var(--space-2);
            font-family: var(--font-display);
            font-size: var(--text-lg); font-weight: 600;
            color: var(--color-gray-900); text-decoration: none;
        }
        .save-indicator {
            display: flex; align-items: center; gap: var(--space-2);
            font-size: var(--text-xs); color: var(--color-gray-500);
            padding: var(--space-2) var(--space-3);
            background: var(--color-gray-100);
            border-radius: var(--radius-full);
            transition: all var(--transition-base);
        }
        .save-indicator.saving { color: var(--color-accent); background: #fef3c7; }
        .save-indicator.saved { color: var(--color-success); background: #d1fae5; }
        .save-indicator__dot {
            width: 8px; height: 8px;
            border-radius: var(--radius-full);
            background: currentColor;
            animation: pulse 2s infinite;
        }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        .main {
            margin-top: var(--header-height);
            padding: var(--space-6) var(--space-4);
            max-width: var(--container-max);
            margin-left: auto; margin-right: auto;
        }
        .student-info {
            background: linear-gradient(135deg, var(--color-gray-50), var(--color-white));
            border-radius: var(--radius-lg); padding: var(--space-4);
            margin-bottom: var(--space-6);
            border: 1px solid var(--color-gray-200);
        }
        .student-info__row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: var(--space-4);
        }
        .student-info__field label {
            display: block; font-size: var(--text-xs);
            font-weight: 600; color: var(--color-gray-500);
            text-transform: uppercase; letter-spacing: 0.05em;
            margin-bottom: var(--space-1);
        }
        .student-info__field input {
            width: 100%; padding: var(--space-2) var(--space-3);
            border: 1px solid var(--color-gray-200);
            border-radius: var(--radius-md); font-size: var(--text-sm);
        }
        .progress-section {
            background: var(--color-white);
            border-radius: var(--radius-xl); padding: var(--space-6);
            margin-bottom: var(--space-6);
            border: 1px solid var(--color-gray-200);
            box-shadow: var(--shadow-sm);
        }
        .progress-header {
            display: flex; justify-content: space-between;
            align-items: center; margin-bottom: var(--space-4);
        }
        .progress-title {
            font-family: var(--font-display);
            font-size: var(--text-xl); font-weight: 700;
            color: var(--color-gray-900);
        }
        .progress-percentage {
            font-family: var(--font-display);
            font-size: var(--text-2xl); font-weight: 700;
            background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
            -webkit-background-clip: text; background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .progress-bar {
            height: 12px; background: var(--color-gray-200);
            border-radius: var(--radius-full);
            overflow: hidden; margin-bottom: var(--space-4);
        }
        .progress-bar__fill {
            height: 100%;
            background: linear-gradient(90deg, var(--color-primary), var(--color-secondary));
            border-radius: var(--radius-full);
            transition: width 0.5s ease;
        }
        .phase-nav { display: flex; gap: var(--space-2); flex-wrap: wrap; }
        .phase-nav__btn {
            flex: 1; min-width: 100px;
            padding: var(--space-3) var(--space-2);
            background: var(--color-gray-100);
            border: 2px solid transparent;
            border-radius: var(--radius-lg);
            font-family: var(--font-main);
            font-size: var(--text-xs); font-weight: 600;
            color: var(--color-gray-600); cursor: pointer;
            transition: all var(--transition-base);
            display: flex; flex-direction: column;
            align-items: center; gap: var(--space-1);
        }
        .phase-nav__btn:hover { background: var(--color-gray-200); color: var(--color-gray-800); }
        .phase-nav__btn.active { background: var(--color-primary); color: var(--color-white); border-color: var(--color-primary-dark); }
        .phase-nav__btn.completed { background: #d1fae5; color: var(--color-success); border-color: var(--color-success); }
        .phase-nav__number { font-family: var(--font-display); font-size: var(--text-lg); font-weight: 700; }
        .form-container {
            background: var(--color-white);
            border-radius: var(--radius-xl);
            border: 1px solid var(--color-gray-200);
            box-shadow: var(--shadow-sm); overflow: hidden;
        }
        .phase-section { display: none; padding: var(--space-8); animation: fadeIn 0.3s ease; }
        .phase-section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .phase-header { margin-bottom: var(--space-6); padding-bottom: var(--space-4); border-bottom: 2px solid var(--color-gray-100); }
        .phase-header__icon { font-size: 2.5rem; margin-bottom: var(--space-2); }
        .phase-header__title { font-family: var(--font-display); font-size: var(--text-2xl); font-weight: 700; color: var(--color-gray-900); margin-bottom: var(--space-2); }
        .phase-header__subtitle { font-size: var(--text-base); color: var(--color-gray-500); }
        .form-group { margin-bottom: var(--space-6); }
        .form-group__label { display: block; font-weight: 600; color: var(--color-gray-800); margin-bottom: var(--space-2); }
        .form-group__label.required::after { content: ' *'; color: var(--color-error); }
        .form-group__hint { font-size: var(--text-sm); color: var(--color-gray-500); margin-bottom: var(--space-2); }
        .form-group__input, .form-group__textarea, .form-group__select {
            width: 100%; padding: var(--space-3) var(--space-4);
            border: 2px solid var(--color-gray-200);
            border-radius: var(--radius-lg);
            font-family: var(--font-main); font-size: var(--text-base);
            color: var(--color-gray-800); background: var(--color-white);
            transition: all var(--transition-fast);
        }
        .form-group__input:focus, .form-group__textarea:focus, .form-group__select:focus {
            outline: none; border-color: var(--color-primary);
            box-shadow: 0 0 0 3px var(--color-primary-light);
        }
        .form-group__textarea { min-height: 120px; resize: vertical; }
        .checkbox-group { display: flex; flex-direction: column; gap: var(--space-3); }
        .checkbox-item {
            display: flex; align-items: flex-start; gap: var(--space-3);
            padding: var(--space-3) var(--space-4);
            background: var(--color-gray-50);
            border-radius: var(--radius-lg);
            border: 2px solid transparent;
            cursor: pointer; transition: all var(--transition-fast);
        }
        .checkbox-item:hover { background: var(--color-gray-100); }
        .checkbox-item.checked { background: #eef2ff; border-color: var(--color-primary-light); }
        .checkbox-item input[type="checkbox"], .checkbox-item input[type="radio"] {
            width: 20px; height: 20px; margin-top: 2px;
            accent-color: var(--color-primary); cursor: pointer;
        }
        .checkbox-item__label { flex: 1; font-size: var(--text-sm); color: var(--color-gray-700); cursor: pointer; }
        .input-row { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--space-4); }
        .dimensions-input { display: flex; align-items: center; gap: var(--space-2); }
        .dimensions-input input { width: 80px; text-align: center; }
        .dimensions-input span { color: var(--color-gray-500); font-weight: 500; }
        .table-input { width: 100%; border-collapse: collapse; border-radius: var(--radius-lg); overflow: hidden; border: 1px solid var(--color-gray-200); }
        .table-input th, .table-input td { padding: var(--space-3) var(--space-4); text-align: left; border-bottom: 1px solid var(--color-gray-200); }
        .table-input th { background: var(--color-gray-100); font-weight: 600; font-size: var(--text-sm); color: var(--color-gray-700); }
        .table-input td input, .table-input td textarea, .table-input td select {
            width: 100%; padding: var(--space-2);
            border: 1px solid var(--color-gray-200);
            border-radius: var(--radius-sm); font-size: var(--text-sm);
        }
        .tips-box {
            background: linear-gradient(135deg, #fef3c7, #fde68a);
            border-radius: var(--radius-lg); padding: var(--space-4);
            margin: var(--space-6) 0; border-left: 4px solid var(--color-accent);
        }
        .tips-box__title { font-weight: 700; color: var(--color-gray-800); margin-bottom: var(--space-2); display: flex; align-items: center; gap: var(--space-2); }
        .tips-box__content { font-size: var(--text-sm); color: var(--color-gray-700); line-height: 1.6; }
        .ai-prompt-box {
            background: linear-gradient(135deg, #eef2ff, #e0e7ff);
            border-radius: var(--radius-lg); padding: var(--space-4);
            margin: var(--space-4) 0; border: 1px solid var(--color-primary-light);
        }
        .ai-prompt-box__title { font-weight: 700; color: var(--color-primary-dark); margin-bottom: var(--space-2); }
        .ai-prompt-box textarea {
            width: 100%; margin-top: var(--space-3); padding: var(--space-3);
            border: 1px solid var(--color-primary-light);
            border-radius: var(--radius-md); font-size: var(--text-sm); min-height: 80px;
        }
        .form-navigation {
            display: flex; justify-content: space-between; align-items: center;
            margin-top: var(--space-8); padding-top: var(--space-6);
            border-top: 2px solid var(--color-gray-100);
        }
        .btn {
            display: inline-flex; align-items: center; gap: var(--space-2);
            padding: var(--space-3) var(--space-6);
            border-radius: var(--radius-lg);
            font-family: var(--font-main); font-size: var(--text-base);
            font-weight: 600; cursor: pointer;
            transition: all var(--transition-fast);
            border: 2px solid transparent; text-decoration: none;
        }
        .btn--primary { background: linear-gradient(135deg, var(--color-primary), var(--color-primary-dark)); color: var(--color-white); }
        .btn--primary:hover { transform: translateY(-2px); box-shadow: var(--shadow-lg); }
        .btn--secondary { background: var(--color-white); color: var(--color-gray-700); border-color: var(--color-gray-300); }
        .btn--secondary:hover { background: var(--color-gray-100); border-color: var(--color-gray-400); }
        .btn--success { background: linear-gradient(135deg, var(--color-success), #059669); color: var(--color-white); }
        .btn--small { padding: var(--space-2) var(--space-4); font-size: var(--text-sm); }
        .actions-bar {
            background: var(--color-white);
            border-radius: var(--radius-xl);
            padding: var(--space-4) var(--space-6);
            margin-top: var(--space-6);
            border: 1px solid var(--color-gray-200);
            display: flex; flex-wrap: wrap; gap: var(--space-3); justify-content: center;
        }
        .modal-overlay {
            position: fixed; inset: 0;
            background: rgba(0,0,0,0.5);
            display: flex; align-items: center; justify-content: center;
            z-index: 2000; opacity: 0; visibility: hidden;
            transition: all var(--transition-base);
        }
        .modal-overlay.active { opacity: 1; visibility: visible; }
        .modal {
            background: var(--color-white);
            border-radius: var(--radius-xl); padding: var(--space-6);
            max-width: 500px; width: 90%; max-height: 90vh; overflow-y: auto;
            transform: scale(0.9); transition: transform var(--transition-base);
        }
        .modal-overlay.active .modal { transform: scale(1); }
        .modal__title { font-family: var(--font-display); font-size: var(--text-xl); font-weight: 700; margin-bottom: var(--space-4); color: var(--color-gray-900); }
        .modal__content { margin-bottom: var(--space-6); }
        .modal__actions { display: flex; gap: var(--space-3); justify-content: flex-end; }
        .toast {
            position: fixed; bottom: var(--space-6); right: var(--space-6);
            background: var(--color-gray-900); color: var(--color-white);
            padding: var(--space-4) var(--space-6);
            border-radius: var(--radius-lg); box-shadow: var(--shadow-xl);
            display: flex; align-items: center; gap: var(--space-3);
            z-index: 3000; transform: translateY(100px); opacity: 0;
            transition: all var(--transition-base);
        }
        .toast.show { transform: translateY(0); opacity: 1; }
        .toast.success { background: var(--color-success); }
        .toast.error { background: var(--color-error); }
        @media (max-width: 768px) {
            .main { padding: var(--space-4) var(--space-3); }
            .phase-section { padding: var(--space-5); }
            .phase-nav { gap: var(--space-1); }
            .phase-nav__btn { min-width: 60px; padding: var(--space-2); }
            .phase-nav__btn span:not(.phase-nav__number) { display: none; }
            .form-navigation { flex-direction: column; gap: var(--space-3); }
            .form-navigation .btn { width: 100%; justify-content: center; }
            .input-row { grid-template-columns: 1fr; }
            .actions-bar { flex-direction: column; }
            .actions-bar .btn { width: 100%; justify-content: center; }
        }
        @media print {
            .header, .actions-bar, .form-navigation, .phase-nav, .progress-section { display: none; }
            .main { margin-top: 0; }
            .phase-section { display: block !important; page-break-after: always; }
            .form-container { border: none; box-shadow: none; }
        }
        /* ---------- Section Header ---------- */
        .section {
            margin-bottom: var(--space-8);
        }
        .section__header {
            text-align: center;
            margin-bottom: var(--space-6);
        }
        .section__title {
            font-family: var(--font-display);
            font-size: var(--text-2xl);
            font-weight: 700;
            color: var(--color-gray-900);
            margin-bottom: var(--space-2);
        }
        .section__subtitle {
            font-size: var(--text-base);
            color: var(--color-gray-500);
        }

        /* ---------- Phase Cards Grid ---------- */
        .phases-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: var(--space-6);
            max-width: var(--container-max);
            margin: 0 auto;
        }

        .phase-card {
            background: var(--color-white);
            border-radius: var(--radius-xl);
            padding: var(--space-6);
            position: relative;
            overflow: hidden;
            border: 2px solid var(--color-gray-200);
            transition: 
                border-color var(--transition-base),
                box-shadow var(--transition-base),
                transform var(--transition-base);
        }

        .phase-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
        }

        .phase-card:nth-child(1)::before { background: linear-gradient(90deg, var(--color-primary), var(--color-primary-dark)); }
        .phase-card:nth-child(2)::before { background: linear-gradient(90deg, var(--color-secondary), var(--color-secondary-dark)); }
        .phase-card:nth-child(3)::before { background: linear-gradient(90deg, var(--color-success), #059669); }
        .phase-card:nth-child(4)::before { background: linear-gradient(90deg, var(--color-accent), #d97706); }
        .phase-card:nth-child(5)::before { background: linear-gradient(90deg, var(--color-error), #dc2626); }

        .phase-card:hover {
            border-color: var(--color-primary-light);
            box-shadow: var(--shadow-xl);
            transform: translateY(-4px);
        }

        .phase-card .phase-icon {
            width: 64px;
            height: 64px;
            border-radius: var(--radius-lg);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            margin-bottom: var(--space-4);
        }

        .phase-card:nth-child(1) .phase-icon { background: linear-gradient(135deg, #eef2ff, #e0e7ff); }
        .phase-card:nth-child(2) .phase-icon { background: linear-gradient(135deg, #ecfeff, #cffafe); }
        .phase-card:nth-child(3) .phase-icon { background: linear-gradient(135deg, #ecfdf5, #d1fae5); }
        .phase-card:nth-child(4) .phase-icon { background: linear-gradient(135deg, #fffbeb, #fef3c7); }
        .phase-card:nth-child(5) .phase-icon { background: linear-gradient(135deg, #fef2f2, #fecaca); }

        .phase-card h3 {
            font-family: var(--font-display);
            font-size: var(--text-lg);
            font-weight: 600;
            margin-bottom: var(--space-2);
            color: var(--color-gray-900);
        }

        .phase-card > p {
            font-size: var(--text-sm);
            color: var(--color-gray-500);
            margin-bottom: var(--space-4);
        }

        .phase-card .tasks {
            display: flex;
            flex-direction: column;
            gap: var(--space-2);
        }

        .phase-card .tasks li {
            font-size: var(--text-sm);
            padding-left: var(--space-6);
            position: relative;
            color: var(--color-gray-600);
            line-height: 1.5;
        }

        .phase-card .tasks li::before {
            content: '‚úì';
            position: absolute;
            left: 0;
            color: var(--color-success);
            font-weight: 700;
        }

        /* ---------- Phases Overview in Form Container ---------- */
        .phases-overview {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: var(--space-3);
            padding: var(--space-6);
            background: linear-gradient(135deg, var(--color-gray-50), var(--color-white));
            border-bottom: 1px solid var(--color-gray-200);
        }
        .phases-overview .phase-card {
            padding: var(--space-4);
            cursor: pointer;
            opacity: 0.6;
            transform: scale(0.95);
            transition: all var(--transition-base);
        }
        .phases-overview .phase-card:hover {
            opacity: 0.85;
            transform: scale(0.98);
        }
        .phases-overview .phase-card.active {
            opacity: 1;
            transform: scale(1);
            border-color: var(--color-primary);
            box-shadow: var(--shadow-lg), 0 0 0 3px var(--color-primary-light);
        }
        .phases-overview .phase-card.completed {
            opacity: 0.9;
            border-color: var(--color-success);
        }
        .phases-overview .phase-card.completed::after {
            content: '‚úì';
            position: absolute;
            top: var(--space-2);
            right: var(--space-2);
            width: 24px;
            height: 24px;
            background: var(--color-success);
            color: white;
            border-radius: var(--radius-full);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: var(--text-sm);
            font-weight: 700;
        }
        .phases-overview .phase-card h3 {
            font-size: var(--text-sm);
        }
        .phases-overview .phase-card > p {
            font-size: var(--text-xs);
            margin-bottom: var(--space-2);
        }
        .phases-overview .phase-card .tasks {
            display: none;
        }
        .phases-overview .phase-card.active .tasks {
            display: flex;
        }
        .phases-overview .phase-card .tasks li {
            font-size: var(--text-xs);
            padding-left: var(--space-4);
        }
        .phases-overview .phase-icon {
            width: 48px;
            height: 48px;
            font-size: 1.4rem;
            margin-bottom: var(--space-2);
        }
        @media (max-width: 1024px) {
            .phases-overview {
                grid-template-columns: repeat(3, 1fr);
            }
        }
        @media (max-width: 768px) {
            .phases-overview {
                grid-template-columns: repeat(2, 1fr);
                padding: var(--space-4);
                gap: var(--space-2);
            }
            .phases-overview .phase-card {
                padding: var(--space-3);
            }
            .phases-overview .phase-card h3 {
                font-size: var(--text-xs);
            }
            .phases-overview .phase-icon {
                width: 36px;
                height: 36px;
                font-size: 1.1rem;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="header__container">
            <a href="#" class="header__logo">üìã Cahier des Charges</a>
            <div class="save-indicator" id="saveIndicator">
                <span class="save-indicator__dot"></span>
                <span class="save-indicator__text">Sauvegarde auto</span>
            </div>
        </div>
    </header>
    <main class="main">
        <div class="student-info">
            <div class="student-info__row">
                <div class="student-info__field">
                    <label for="studentName">Nom et Pr√©nom</label>
                    <input type="text" id="studentName" data-field="studentName" placeholder="">
                </div>
                <div class="student-info__field">
                    <label for="studentClass">Classe</label>
                    <input type="text" id="studentClass" data-field="studentClass" placeholder="">
                </div>
                <div class="student-info__field">
                    <label for="projectDate">Date de d√©but</label>
                    <input type="date" id="projectDate" data-field="projectDate">
                </div>
            </div>
        </div>
        <section class="progress-section">
            <div class="progress-header">
                <h2 class="progress-title">üéØ Progression du projet</h2>
                <span class="progress-percentage" id="progressPercentage">0%</span>
            </div>
            <div class="progress-bar">
                <div class="progress-bar__fill" id="progressFill" style="width: 0%"></div>
            </div>
            <nav class="phase-nav" id="phaseNav">
                <button class="phase-nav__btn active" data-phase="1"><span class="phase-nav__number">1</span><span>Pr√©sentation</span></button>
                <button class="phase-nav__btn" data-phase="2"><span class="phase-nav__number">2</span><span>Besoin</span></button>
                <button class="phase-nav__btn" data-phase="3"><span class="phase-nav__number">3</span><span>Conception</span></button>
                <button class="phase-nav__btn" data-phase="4"><span class="phase-nav__number">4</span><span>Mod√©lisation</span></button>
                <button class="phase-nav__btn" data-phase="5"><span class="phase-nav__number">5</span><span>Validation</span></button>
            </nav>
        </section>

        <!-- <div class="form-container">
            Phases Cards Navigation
            <div class="phases-overview" id="phasesOverview">
                <article class="phase-card" data-phase-card="1">
                    <div class="phase-icon">üì¶</div>
                    <h3>Phase 1 : Pr√©sentation</h3>
                    <p>D√©cris l'objet √† am√©liorer</p>
                    <ul class="tasks">
                        <li>Nommer l'objet technique</li>
                        <li>D√©finir sa fonction principale</li>
                        <li>Noter les dimensions et mat√©riaux</li>
                    </ul>
                </article>

                <article class="phase-card" data-phase-card="2">
                    <div class="phase-icon">üîç</div>
                    <h3>Phase 2 : Analyse du Besoin</h3>
                    <p>Identifie le probl√®me √† r√©soudre</p>
                    <ul class="tasks">
                        <li>Identifier le type de probl√®me</li>
                        <li>D√©crire une situation concr√®te</li>
                        <li>D√©finir l'objectif du projet</li>
                    </ul>
                </article>

                <article class="phase-card" data-phase-card="3">
                    <div class="phase-icon">‚úèÔ∏è</div>
                    <h3>Phase 3 : Conception</h3>
                    <p>Imagine et dessine ta solution</p>
                    <ul class="tasks">
                        <li>Rechercher des solutions existantes</li>
                        <li>D√©finir les contraintes</li>
                        <li>Choisir le syst√®me de fixation</li>
                    </ul>
                </article>

                <article class="phase-card" data-phase-card="4">
                    <div class="phase-icon">üñ®Ô∏è</div>
                    <h3>Phase 4 : Mod√©lisation</h3>
                    <p>Cr√©e et imprime ton mod√®le</p>
                    <ul class="tasks">
                        <li>Mod√©liser en 3D</li>
                        <li>Configurer l'impression</li>
                        <li>Assembler les √©l√©ments</li>
                    </ul>
                </article>

                <article class="phase-card" data-phase-card="5">
                    <div class="phase-icon">‚úÖ</div>
                    <h3>Phase 5 : Validation</h3>
                    <p>Teste et am√©liore ta solution</p>
                    <ul class="tasks">
                        <li>R√©aliser les tests pr√©vus</li>
                        <li>√âvaluer les crit√®res de r√©ussite</li>
                        <li>Proposer des am√©liorations</li>
                    </ul>
                </article>
            </div> -->
            <!-- Phase 1 -->
            <section class="phase-section active" data-phase="1">
                <div class="phase-header">
                    <div class="phase-header__icon">üì¶</div>
                    <h2 class="phase-header__title">Phase 1 : Pr√©sentation de l'objet</h2>
                    <p class="phase-header__subtitle">D√©cris l'objet technique que tu souhaites am√©liorer</p>
                </div>
                <div class="form-group">
                    <label class="form-group__label required">Nom de l'objet</label>
                    <p class="form-group__hint">Quel objet technique as-tu choisi d'am√©liorer ?</p>
                    <input type="text" class="form-group__input" data-field="objectName" placeholder="Ex: Support de t√©l√©phone, casque audio...">
                </div>
                <div class="form-group">
                    <label class="form-group__label required">Fonction principale</label>
                    <p class="form-group__hint">√Ä quoi sert cet objet ?</p>
                    <input type="text" class="form-group__input" data-field="objectFunction" placeholder="Ex: Maintenir le t√©l√©phone en position verticale">
                </div>
                <div class="form-group">
                    <label class="form-group__label">Utilisateur(s)</label>
                    <input type="text" class="form-group__input" data-field="objectUsers" placeholder="Ex: Moi, ma famille...">
                </div>
                <div class="form-group">
                    <label class="form-group__label required">Pourquoi as-tu choisi cet objet ?</label>
                    <textarea class="form-group__textarea" data-field="whyChoice" placeholder="Explique ton lien avec cet objet..."></textarea>
                </div>
                <div class="tips-box">
                    <p class="tips-box__title">üí° Conseil</p>
                    <p class="tips-box__content">Choisis un objet que tu utilises r√©guli√®rement. C'est plus facile d'identifier les probl√®mes d'un objet qu'on conna√Æt bien !</p>
                </div>
                <div class="form-group">
                    <label class="form-group__label">Dimensions approximatives (mm)</label>
                    <div class="dimensions-input">
                        <input type="number" class="form-group__input" data-field="objectDimL" placeholder="L" style="width:80px"> 
                        <span>√ó</span>
                        <input type="number" class="form-group__input" data-field="objectDimW" placeholder="l" style="width:80px">
                        <span>√ó</span>
                        <input type="number" class="form-group__input" data-field="objectDimH" placeholder="h" style="width:80px">
                        <span>mm</span>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-group__label">Mat√©riaux principaux</label>
                    <input type="text" class="form-group__input" data-field="objectMaterials" placeholder="Ex: Plastique ABS, m√©tal, bois...">
                </div>
                <div class="form-group">
                    <label class="form-group__label">Principe de fonctionnement</label>
                    <textarea class="form-group__textarea" data-field="objectPrinciple" placeholder="D√©cris le fonctionnement (2-3 phrases)..."></textarea>
                </div>
                <div class="form-navigation">
                    <div></div>
                    <button class="btn btn--primary" onclick="goToPhase(2)">Suivant ‚Üí</button>
                </div>
            </section>
            <!-- Phase 2 -->
            <section class="phase-section" data-phase="2">
                <div class="phase-header">
                    <div class="phase-header__icon">üîç</div>
                    <h2 class="phase-header__title">Phase 2 : Analyse du besoin</h2>
                    <p class="phase-header__subtitle">Identifie le probl√®me ou le besoin √† r√©soudre</p>
                </div>
                <div class="form-group">
                    <label class="form-group__label required">Type(s) de probl√®me identifi√©(s)</label>
                    <div class="checkbox-group">
                        <label class="checkbox-item"><input type="checkbox" data-field="problemType_functionality"><span class="checkbox-item__label">üì± <strong>Manque de fonctionnalit√©</strong></span></label>
                        <label class="checkbox-item"><input type="checkbox" data-field="problemType_fragility"><span class="checkbox-item__label">üíî <strong>Fragilit√© / Casse fr√©quente</strong></span></label>
                        <label class="checkbox-item"><input type="checkbox" data-field="problemType_comfort"><span class="checkbox-item__label">üò£ <strong>Inconfort d'utilisation</strong></span></label>
                        <label class="checkbox-item"><input type="checkbox" data-field="problemType_storage"><span class="checkbox-item__label">üì¶ <strong>Manque de rangement</strong></span></label>
                        <label class="checkbox-item"><input type="checkbox" data-field="problemType_protection"><span class="checkbox-item__label">üõ°Ô∏è <strong>Manque de protection</strong></span></label>
                        <label class="checkbox-item"><input type="checkbox" data-field="problemType_adaptation"><span class="checkbox-item__label">üéØ <strong>Inadaptation √† un usage</strong></span></label>
                        <label class="checkbox-item"><input type="checkbox" data-field="problemType_other"><span class="checkbox-item__label">‚ûï <strong>Autre</strong></span></label>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-group__label">Si "Autre", pr√©cise :</label>
                    <input type="text" class="form-group__input" data-field="problemOther" placeholder="D√©cris le type de probl√®me...">
                </div>
                <div class="form-group">
                    <label class="form-group__label required">Description pr√©cise du probl√®me</label>
                    <p class="form-group__hint">D√©cris une situation concr√®te o√π ce probl√®me se manifeste</p>
                    <textarea class="form-group__textarea" data-field="problemDescription" placeholder="Ex: Quand je pose mon t√©l√©phone..."></textarea>
                </div>
                <div class="form-group">
                    <label class="form-group__label">Qui est concern√© ?</label>
                    <div class="checkbox-group">
                        <label class="checkbox-item"><input type="checkbox" data-field="concerned_me"><span class="checkbox-item__label">üôã Moi uniquement</span></label>
                        <label class="checkbox-item"><input type="checkbox" data-field="concerned_family"><span class="checkbox-item__label">üë®‚Äçüë©‚Äçüëß Ma famille</span></label>
                        <label class="checkbox-item"><input type="checkbox" data-field="concerned_friends"><span class="checkbox-item__label">üë´ Mes amis</span></label>
                        <label class="checkbox-item"><input type="checkbox" data-field="concerned_public"><span class="checkbox-item__label">üåç Un public plus large</span></label>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-group__label required">Type d'am√©lioration envisag√©</label>
                    <div class="checkbox-group">
                        <label class="checkbox-item"><input type="radio" name="improvementType" data-field="improvementType" value="accessoire"><span class="checkbox-item__label">üîß <strong>Accessoire</strong> ‚Äî Ajout qui compl√®te l'objet</span></label>
                        <label class="checkbox-item"><input type="radio" name="improvementType" data-field="improvementType" value="extension"><span class="checkbox-item__label">üìè <strong>Extension</strong> ‚Äî Agrandissement ou ajout de fonction</span></label>
                        <label class="checkbox-item"><input type="radio" name="improvementType" data-field="improvementType" value="protection"><span class="checkbox-item__label">üõ°Ô∏è <strong>Protection</strong> ‚Äî Coque, √©tui, support anti-choc</span></label>
                        <label class="checkbox-item"><input type="radio" name="improvementType" data-field="improvementType" value="adaptation"><span class="checkbox-item__label">üéØ <strong>Adaptation</strong> ‚Äî Modification pour un usage sp√©cifique</span></label>
                        <label class="checkbox-item"><input type="radio" name="improvementType" data-field="improvementType" value="reparation"><span class="checkbox-item__label">üîÑ <strong>R√©paration augment√©e</strong> ‚Äî Pi√®ce de remplacement am√©lior√©e</span></label>
                    </div>
                </div>
                <div class="tips-box">
                    <p class="tips-box__title">üéØ Formule ton objectif</p>
                    <p class="tips-box__content">"Mon projet consiste √† cr√©er [QUOI] pour [USAGE] afin de [BUT]"</p>
                </div>
                <div class="form-group">
                    <label class="form-group__label required">Objectif du projet (en une phrase)</label>
                    <textarea class="form-group__textarea" data-field="projectObjective" placeholder="Mon projet consiste √† cr√©er..."></textarea>
                </div>
                <div class="form-navigation">
                    <button class="btn btn--secondary" onclick="goToPhase(1)">‚Üê Pr√©c√©dent</button>
                    <button class="btn btn--primary" onclick="goToPhase(3)">Suivant ‚Üí</button>
                </div>
            </section>
            <!-- Phase 3 -->
            <section class="phase-section" data-phase="3">
                <div class="phase-header">
                    <div class="phase-header__icon">‚úèÔ∏è</div>
                    <h2 class="phase-header__title">Phase 3 : Conception de la solution</h2>
                    <p class="phase-header__subtitle">D√©cris et dessine ta solution technique</p>
                </div>
                <div class="form-group">
                    <label class="form-group__label">Solutions similaires existantes ?</label>
                    <textarea class="form-group__textarea" data-field="existingSolutions" placeholder="As-tu trouv√© des produits existants ? Pourquoi ne conviennent-ils pas ?"></textarea>
                </div>
                <div class="ai-prompt-box">
                    <p class="ai-prompt-box__title">ü§ñ Utilisation de l'IA (optionnel)</p>
                    <p class="ai-prompt-box__content">Si tu as utilis√© une IA pour t'aider, note le prompt et les r√©sultats :</p>
                    <textarea data-field="aiPromptUsed" placeholder="Ex: J'ai demand√© √† ChatGPT de me proposer 3 id√©es..."></textarea>
                </div>
                <div class="form-group">
                    <label class="form-group__label required">Nom de ton am√©lioration</label>
                    <input type="text" class="form-group__input" data-field="solutionName" placeholder="Ex: Support orientable multi-angles">
                </div>
                <div class="form-group">
                    <label class="form-group__label required">Description de ta solution</label>
                    <textarea class="form-group__textarea" data-field="solutionDescription" placeholder="D√©cris la forme g√©n√©rale, l'aspect visuel..."></textarea>
                </div>
                <div class="form-group">
                    <label class="form-group__label">Dimensions pr√©vues (mm)</label>
                    <div class="dimensions-input">
                        <input type="number" class="form-group__input" data-field="solutionDimL" placeholder="L" style="width:80px"> 
                        <span>√ó</span>
                        <input type="number" class="form-group__input" data-field="solutionDimW" placeholder="l" style="width:80px">
                        <span>√ó</span>
                        <input type="number" class="form-group__input" data-field="solutionDimH" placeholder="h" style="width:80px">
                        <span>mm</span>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-group__label required">Mat√©riau envisag√©</label>
                    <div class="checkbox-group">
                        <label class="checkbox-item"><input type="radio" name="material" data-field="material" value="PLA"><span class="checkbox-item__label">üå± <strong>PLA</strong> ‚Äî Biod√©gradable, facile</span></label>
                        <label class="checkbox-item"><input type="radio" name="material" data-field="material" value="PETG"><span class="checkbox-item__label">üí™ <strong>PETG</strong> ‚Äî R√©sistant, durable</span></label>
                        <label class="checkbox-item"><input type="radio" name="material" data-field="material" value="Bois"><span class="checkbox-item__label">ü™µ <strong>Bois</strong></span></label>
                        <label class="checkbox-item"><input type="radio" name="material" data-field="material" value="Metal"><span class="checkbox-item__label">üî© <strong>M√©tal</strong></span></label>
                        <label class="checkbox-item"><input type="radio" name="material" data-field="material" value="Autre"><span class="checkbox-item__label">‚ûï <strong>Autre</strong></span></label>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-group__label">Couleur(s) pr√©vue(s)</label>
                    <input type="text" class="form-group__input" data-field="solutionColor" placeholder="Ex: Noir, blanc, bleu...">
                </div>
                <div class="form-group">
                    <label class="form-group__label required">Syst√®me de fixation</label>
                    <textarea class="form-group__textarea" data-field="fixationSystem" placeholder="Ex: Clips encliquetables, vis M3, colle, aimants..."></textarea>
                </div>
                <div class="form-group">
                    <label class="form-group__label">Contraintes dimensionnelles</label>
                    <table class="table-input">
                        <thead><tr><th>Contrainte</th><th>Valeur</th><th>Pourquoi</th></tr></thead>
                        <tbody>
                            <tr><td>Dimension max</td><td><input type="text" data-field="constraintMaxDim"></td><td><input type="text" data-field="constraintMaxDimWhy"></td></tr>
                            <tr><td>Dimension min</td><td><input type="text" data-field="constraintMinDim"></td><td><input type="text" data-field="constraintMinDimWhy"></td></tr>
                            <tr><td>Espace dispo</td><td><input type="text" data-field="constraintSpace"></td><td><input type="text" data-field="constraintSpaceWhy"></td></tr>
                            <tr><td>Poids max</td><td><input type="text" data-field="constraintWeight"></td><td><input type="text" data-field="constraintWeightWhy"></td></tr>
                        </tbody>
                    </table>
                </div>
                <div class="form-group">
                    <label class="form-group__label required">Fonctionnalit√©s apport√©es (2-5)</label>
                    <textarea class="form-group__textarea" data-field="functionalities" placeholder="1. Permet d'orienter l'√©cran √† 360¬∞&#10;2. Maintient le t√©l√©phone stable..."></textarea>
                </div>
                <div class="tips-box">
                    <p class="tips-box__title">üìê N'oublie pas le croquis !</p>
                    <p class="tips-box__content">Sur papier : vue de face + c√¥t√©, dimensions, l√©gendes, points de fixation.</p>
                </div>
                <div class="form-navigation">
                    <button class="btn btn--secondary" onclick="goToPhase(2)">‚Üê Pr√©c√©dent</button>
                    <button class="btn btn--primary" onclick="goToPhase(4)">Suivant ‚Üí</button>
                </div>
            </section>
            <!-- Phase 4 -->
            <section class="phase-section" data-phase="4">
                <div class="phase-header">
                    <div class="phase-header__icon">üñ®Ô∏è</div>
                    <h2 class="phase-header__title">Phase 4 : Mod√©lisation et Fabrication</h2>
                    <p class="phase-header__subtitle">Param√®tres de mod√©lisation 3D et d'impression</p>
                </div>
                <div class="form-group">
                    <label class="form-group__label required">Logiciel de mod√©lisation</label>
                    <div class="checkbox-group">
                        <label class="checkbox-item"><input type="radio" name="software" data-field="software" value="TinkerCAD"><span class="checkbox-item__label">üé® <strong>TinkerCAD</strong> ‚Äî Simple, en ligne</span></label>
                        <label class="checkbox-item"><input type="radio" name="software" data-field="software" value="OnShape"><span class="checkbox-item__label">‚öôÔ∏è <strong>OnShape</strong> ‚Äî Avanc√©</span></label>
                        <label class="checkbox-item"><input type="radio" name="software" data-field="software" value="Fusion360"><span class="checkbox-item__label">üè≠ <strong>Fusion 360</strong></span></label>
                        <label class="checkbox-item"><input type="radio" name="software" data-field="software" value="Autre"><span class="checkbox-item__label">‚ûï <strong>Autre</strong></span></label>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-group__label required">√âtapes de mod√©lisation (4-6)</label>
                    <textarea class="form-group__textarea" data-field="modelingSteps" placeholder="1. Mesurer l'objet d'origine&#10;2. Cr√©er le socle&#10;3. Ajouter les trous..."></textarea>
                </div>
                <div class="form-group">
                    <label class="form-group__label">Lien TinkerCAD</label>
                    <input type="url" class="form-group__input" data-field="tinkercadLink" placeholder="https://www.tinkercad.com/things/...">
                </div>
                <div class="form-group">
                    <label class="form-group__label">Mat√©riau d'impression</label>
                    <div class="checkbox-group">
                        <label class="checkbox-item"><input type="radio" name="printMaterial" data-field="printMaterial" value="PLA"><span class="checkbox-item__label">üå± <strong>PLA</strong></span></label>
                        <label class="checkbox-item"><input type="radio" name="printMaterial" data-field="printMaterial" value="PETG"><span class="checkbox-item__label">üí™ <strong>PETG</strong></span></label>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-group__label">√âpaisseur de couche</label>
                    <div class="checkbox-group">
                        <label class="checkbox-item"><input type="radio" name="layerHeight" data-field="layerHeight" value="0.1"><span class="checkbox-item__label">üî¨ <strong>0.1 mm</strong> ‚Äî Pr√©cis</span></label>
                        <label class="checkbox-item"><input type="radio" name="layerHeight" data-field="layerHeight" value="0.2"><span class="checkbox-item__label">‚öñÔ∏è <strong>0.2 mm</strong> ‚Äî Standard</span></label>
                        <label class="checkbox-item"><input type="radio" name="layerHeight" data-field="layerHeight" value="0.3"><span class="checkbox-item__label">‚ö° <strong>0.3 mm</strong> ‚Äî Rapide</span></label>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-group__label">Remplissage (infill)</label>
                    <div class="checkbox-group">
                        <label class="checkbox-item"><input type="radio" name="infill" data-field="infill" value="20"><span class="checkbox-item__label">ü™∂ <strong>20%</strong> ‚Äî L√©ger</span></label>
                        <label class="checkbox-item"><input type="radio" name="infill" data-field="infill" value="50"><span class="checkbox-item__label">‚öñÔ∏è <strong>50%</strong> ‚Äî Solide</span></label>
                        <label class="checkbox-item"><input type="radio" name="infill" data-field="infill" value="100"><span class="checkbox-item__label">üß± <strong>100%</strong> ‚Äî Plein</span></label>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-group__label">Supports n√©cessaires ?</label>
                    <div class="checkbox-group">
                        <label class="checkbox-item"><input type="radio" name="supports" data-field="supports" value="oui"><span class="checkbox-item__label">‚úÖ <strong>Oui</strong></span></label>
                        <label class="checkbox-item"><input type="radio" name="supports" data-field="supports" value="non"><span class="checkbox-item__label">‚ùå <strong>Non</strong></span></label>
                    </div>
                </div>
                <div class="input-row">
                    <div class="form-group"><label class="form-group__label">Temps estim√©</label><input type="text" class="form-group__input" data-field="printTime" placeholder="Ex: 2h30"></div>
                    <div class="form-group"><label class="form-group__label">Quantit√© mat√©riau</label><input type="text" class="form-group__input" data-field="printWeight" placeholder="Ex: 25g"></div>
                    <div class="form-group"><label class="form-group__label">Co√ªt estim√©</label><input type="text" class="form-group__input" data-field="printCost" placeholder="Ex: 0.50‚Ç¨"></div>
                </div>
                <div class="form-group">
                    <label class="form-group__label">√âtapes d'assemblage</label>
                    <textarea class="form-group__textarea" data-field="assemblySteps" placeholder="1. Retirer les supports&#10;2. Poncer..."></textarea>
                </div>
                <div class="form-group">
                    <label class="form-group__label">Finitions pr√©vues</label>
                    <div class="checkbox-group">
                        <label class="checkbox-item"><input type="checkbox" data-field="finish_sanding"><span class="checkbox-item__label">ü™µ Pon√ßage</span></label>
                        <label class="checkbox-item"><input type="checkbox" data-field="finish_paint"><span class="checkbox-item__label">üé® Peinture / Vernis</span></label>
                        <label class="checkbox-item"><input type="checkbox" data-field="finish_assembly"><span class="checkbox-item__label">üîß Assemblage pi√®ces</span></label>
                        <label class="checkbox-item"><input type="checkbox" data-field="finish_hardware"><span class="checkbox-item__label">üî© Ajout vis/aimants</span></label>
                    </div>
                </div>
                <div class="form-navigation">
                    <button class="btn btn--secondary" onclick="goToPhase(3)">‚Üê Pr√©c√©dent</button>
                    <button class="btn btn--primary" onclick="goToPhase(5)">Suivant ‚Üí</button>
                </div>
            </section>
            <!-- Phase 5 -->
            <section class="phase-section" data-phase="5">
                <div class="phase-header">
                    <div class="phase-header__icon">‚úÖ</div>
                    <h2 class="phase-header__title">Phase 5 : Validation et R√©flexion</h2>
                    <p class="phase-header__subtitle">Tests, bilan et r√©flexion sur le projet</p>
                </div>
                <div class="form-group">
                    <label class="form-group__label">Plan de tests (minimum 3)</label>
                    <table class="table-input">
                        <thead><tr><th>N¬∞</th><th>Ce que je teste</th><th>Comment</th><th>R√©sultat attendu</th></tr></thead>
                        <tbody>
                            <tr><td>1</td><td><input type="text" data-field="test1_what" placeholder="Ex: Solidit√©"></td><td><input type="text" data-field="test1_how" placeholder="Ex: Secouer 30s"></td><td><input type="text" data-field="test1_expected" placeholder="Ne se d√©tache pas"></td></tr>
                            <tr><td>2</td><td><input type="text" data-field="test2_what"></td><td><input type="text" data-field="test2_how"></td><td><input type="text" data-field="test2_expected"></td></tr>
                            <tr><td>3</td><td><input type="text" data-field="test3_what"></td><td><input type="text" data-field="test3_how"></td><td><input type="text" data-field="test3_expected"></td></tr>
                        </tbody>
                    </table>
                </div>
                <div class="form-group">
                    <label class="form-group__label">Crit√®res de r√©ussite (apr√®s r√©alisation)</label>
                    <table class="table-input">
                        <thead><tr><th>Crit√®re</th><th>Objectif</th><th>R√©sultat</th></tr></thead>
                        <tbody>
                            <tr><td>Compatibilit√©</td><td>S'adapte √† l'objet</td><td><select data-field="result_compatibility"><option value="">‚Äî</option><option value="atteint">‚úÖ Atteint</option><option value="partiel">üîÑ Partiel</option><option value="non">‚ùå Non</option></select></td></tr>
                            <tr><td>Fonctionnalit√©</td><td>Remplit sa fonction</td><td><select data-field="result_functionality"><option value="">‚Äî</option><option value="atteint">‚úÖ Atteint</option><option value="partiel">üîÑ Partiel</option><option value="non">‚ùå Non</option></select></td></tr>
                            <tr><td>Solidit√©</td><td>R√©siste √† l'usage</td><td><select data-field="result_solidity"><option value="">‚Äî</option><option value="atteint">‚úÖ Atteint</option><option value="partiel">üîÑ Partiel</option><option value="non">‚ùå Non</option></select></td></tr>
                            <tr><td>Esth√©tique</td><td>Aspect agr√©able</td><td><select data-field="result_aesthetic"><option value="">‚Äî</option><option value="atteint">‚úÖ Atteint</option><option value="partiel">üîÑ Partiel</option><option value="non">‚ùå Non</option></select></td></tr>
                        </tbody>
                    </table>
                </div>
                <div class="form-group">
                    <label class="form-group__label">Am√©liorations possibles</label>
                    <textarea class="form-group__textarea" data-field="improvements" placeholder="Si tu devais refaire le projet, que changerais-tu ?"></textarea>
                </div>
                <div class="form-group">
                    <label class="form-group__label">Impact environnemental</label>
                    <div class="checkbox-group">
                        <label class="checkbox-item"><input type="radio" name="envImpact" data-field="envImpact" value="oui"><span class="checkbox-item__label">‚úÖ <strong>Oui</strong> ‚Äî Prolonge la vie de l'objet</span></label>
                        <label class="checkbox-item"><input type="radio" name="envImpact" data-field="envImpact" value="non"><span class="checkbox-item__label">‚ùå <strong>Non</strong> ‚Äî Surtout esth√©tique/pratique</span></label>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-group__label">Explication de l'impact</label>
                    <textarea class="form-group__textarea" data-field="envImpactDetail" placeholder="Ex: Mon am√©lioration √©vite de jeter l'objet car..."></textarea>
                </div>
                <div class="form-group">
                    <label class="form-group__label">Comp√©tences d√©velopp√©es</label>
                    <div class="checkbox-group">
                        <label class="checkbox-item"><input type="checkbox" data-field="skill_analyze"><span class="checkbox-item__label">üîç Analyser un besoin</span></label>
                        <label class="checkbox-item"><input type="checkbox" data-field="skill_design"><span class="checkbox-item__label">‚úèÔ∏è Concevoir une solution</span></label>
                        <label class="checkbox-item"><input type="checkbox" data-field="skill_model"><span class="checkbox-item__label">üíª Mod√©liser en 3D</span></label>
                        <label class="checkbox-item"><input type="checkbox" data-field="skill_print"><span class="checkbox-item__label">üñ®Ô∏è Utiliser une imprimante 3D</span></label>
                        <label class="checkbox-item"><input type="checkbox" data-field="skill_test"><span class="checkbox-item__label">üß™ Tester et am√©liorer</span></label>
                        <label class="checkbox-item"><input type="checkbox" data-field="skill_autonomous"><span class="checkbox-item__label">üéØ Travailler en autonomie</span></label>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-group__label">Partie la plus difficile ?</label>
                    <textarea class="form-group__textarea" data-field="hardestPart" placeholder="Explique ce qui t'a pos√© le plus de difficult√©s..."></textarea>
                </div>
                <div class="form-group">
                    <label class="form-group__label">Satisfaction du r√©sultat</label>
                    <textarea class="form-group__textarea" data-field="satisfaction" placeholder="Es-tu satisfait(e) ? Pourquoi ?"></textarea>
                </div>
                <div class="form-group">
                    <label class="form-group__label">Utilisation au quotidien ?</label>
                    <div class="checkbox-group">
                        <label class="checkbox-item"><input type="radio" name="dailyUse" data-field="dailyUse" value="everyday"><span class="checkbox-item__label">üåü Oui, tous les jours</span></label>
                        <label class="checkbox-item"><input type="radio" name="dailyUse" data-field="dailyUse" value="sometimes"><span class="checkbox-item__label">üëç De temps en temps</span></label>
                        <label class="checkbox-item"><input type="radio" name="dailyUse" data-field="dailyUse" value="exercise"><span class="checkbox-item__label">üìö Non, c'√©tait un exercice</span></label>
                        <label class="checkbox-item"><input type="radio" name="dailyUse" data-field="dailyUse" value="unknown"><span class="checkbox-item__label">ü§î Je ne sais pas encore</span></label>
                    </div>
                </div>
                <div class="form-navigation">
                    <button class="btn btn--secondary" onclick="goToPhase(4)">‚Üê Pr√©c√©dent</button>
                    <button class="btn btn--success" onclick="showCompletionModal()">‚úÖ Terminer le projet</button>
                </div>
            </section>
        </div>
        <div class="actions-bar">
            <button class="btn btn--secondary btn--small" onclick="exportJSON()">üì§ Exporter</button>
            <button class="btn btn--secondary btn--small" onclick="document.getElementById('importInput').click()">üì• Importer</button>
            <input type="file" id="importInput" accept=".json" style="display:none" onchange="importJSON(event)">
            <button class="btn btn--secondary btn--small" onclick="showResetModal()">üóëÔ∏è R√©initialiser</button>
        </div>
    </main>
    <div class="modal-overlay" id="completionModal">
        <div class="modal">
            <h3 class="modal__title">üéâ F√©licitations !</h3>
            <div class="modal__content">
                <p>Tu as termin√© ton cahier des charges !</p>
                <p style="margin-top:1rem">N'oublie pas de :</p>
                <ul style="margin:0.75rem 0;padding-left:1.5rem;list-style:disc">
                    <li>Exporter ton fichier JSON</li>
                    <li>Joindre ton croquis annot√©</li>
                    <li>Ajouter le lien TinkerCAD</li>
                    <li>Prendre des photos du prototype</li>
                </ul>
            </div>
            <div class="modal__actions">
                <button class="btn btn--secondary" onclick="closeModal('completionModal')">Fermer</button>
                <button class="btn btn--primary" onclick="exportJSON();closeModal('completionModal')">üì§ Exporter</button>
            </div>
        </div>
    </div>
    <div class="modal-overlay" id="resetModal">
        <div class="modal">
            <h3 class="modal__title">‚ö†Ô∏è R√©initialiser ?</h3>
            <div class="modal__content">
                <p>Cette action va <strong>supprimer toutes tes r√©ponses</strong>. Irr√©versible !</p>
            </div>
            <div class="modal__actions">
                <button class="btn btn--secondary" onclick="closeModal('resetModal')">Annuler</button>
                <button class="btn btn--primary" style="background:var(--color-error)" onclick="resetForm()">üóëÔ∏è R√©initialiser</button>
            </div>
        </div>
    </div>
    <div class="toast" id="toast"><span class="toast__icon"></span><span class="toast__message"></span></div>
    <script>
        const STORAGE_KEY = 'cahier_charges_amelioration_objet';
        const AUTOSAVE_INTERVAL = 15000;
        let formData = {};
        let currentPhase = 1;
        let hasUnsavedChanges = false;

        document.addEventListener('DOMContentLoaded', () => {
            loadFromStorage();
            setupEventListeners();
            startAutoSave();
            updateProgress();
            updatePhaseNavigation();
        });

        function saveToStorage() {
            try {
                collectFormData();
                formData._lastSaved = new Date().toISOString();
                formData._currentPhase = currentPhase;
                localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));
                showSaveIndicator('saved');
                hasUnsavedChanges = false;
                return true;
            } catch (error) {
                console.error('Erreur sauvegarde:', error);
                showToast('Erreur de sauvegarde', 'error');
                return false;
            }
        }

        function loadFromStorage() {
            try {
                const saved = localStorage.getItem(STORAGE_KEY);
                if (saved) {
                    formData = JSON.parse(saved);
                    if (formData._currentPhase) {
                        currentPhase = formData._currentPhase;
                        goToPhase(currentPhase, false);
                    }
                    populateForm();
                    showToast('Donn√©es restaur√©es', 'success');
                }
            } catch (error) {
                console.error('Erreur chargement:', error);
                formData = {};
            }
        }

        function collectFormData() {
            document.querySelectorAll('[data-field]').forEach(el => {
                const field = el.dataset.field;
                if (el.type === 'checkbox') formData[field] = el.checked;
                else if (el.type === 'radio') { if (el.checked) formData[field] = el.value; }
                else formData[field] = el.value;
            });
        }

        function populateForm() {
            document.querySelectorAll('[data-field]').forEach(el => {
                const field = el.dataset.field;
                const value = formData[field];
                if (value === undefined) return;
                if (el.type === 'checkbox') {
                    el.checked = value;
                    const parent = el.closest('.checkbox-item');
                    if (parent) parent.classList.toggle('checked', value);
                } else if (el.type === 'radio') {
                    el.checked = (el.value === value);
                    const parent = el.closest('.checkbox-item');
                    if (parent && el.checked) parent.classList.add('checked');
                } else {
                    el.value = value;
                }
            });
        }

        function startAutoSave() {
            setInterval(() => {
                if (hasUnsavedChanges) {
                    showSaveIndicator('saving');
                    setTimeout(() => saveToStorage(), 500);
                }
            }, AUTOSAVE_INTERVAL);
        }

        function showSaveIndicator(state) {
            const indicator = document.getElementById('saveIndicator');
            const text = indicator.querySelector('.save-indicator__text');
            indicator.classList.remove('saving', 'saved');
            if (state === 'saving') {
                indicator.classList.add('saving');
                text.textContent = 'Sauvegarde...';
            } else if (state === 'saved') {
                indicator.classList.add('saved');
                text.textContent = 'Sauvegard√© ‚úì';
                setTimeout(() => {
                    indicator.classList.remove('saved');
                    text.textContent = 'Sauvegarde auto';
                }, 2000);
            }
        }

        function setupEventListeners() {
            document.querySelectorAll('[data-field]').forEach(el => {
                const eventType = (el.type === 'checkbox' || el.type === 'radio') ? 'change' : 'input';
                el.addEventListener(eventType, () => {
                    hasUnsavedChanges = true;
                    updateProgress();
                    if (el.type === 'checkbox') {
                        const parent = el.closest('.checkbox-item');
                        if (parent) parent.classList.toggle('checked', el.checked);
                    } else if (el.type === 'radio') {
                        document.querySelectorAll(`input[name="${el.name}"]`).forEach(radio => {
                            const parent = radio.closest('.checkbox-item');
                            if (parent) parent.classList.toggle('checked', radio.checked);
                        });
                    }
                });
            });
            document.querySelectorAll('.phase-nav__btn').forEach(btn => {
                btn.addEventListener('click', () => goToPhase(parseInt(btn.dataset.phase)));
            });
            // Phase cards are also clickable
            document.querySelectorAll('[data-phase-card]').forEach(card => {
                card.addEventListener('click', () => goToPhase(parseInt(card.dataset.phaseCard)));
            });
            window.addEventListener('beforeunload', (e) => {
                if (hasUnsavedChanges) { e.preventDefault(); e.returnValue = ''; }
            });
        }

        function goToPhase(phase, save = true) {
            if (save) saveToStorage();
            currentPhase = phase;
            document.querySelectorAll('.phase-section').forEach(s => s.classList.remove('active'));
            const target = document.querySelector(`.phase-section[data-phase="${phase}"]`);
            if (target) target.classList.add('active');
            updatePhaseNavigation();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function updatePhaseNavigation() {
            // Update nav buttons
            document.querySelectorAll('.phase-nav__btn').forEach(btn => {
                const phase = parseInt(btn.dataset.phase);
                btn.classList.remove('active', 'completed');
                if (phase === currentPhase) btn.classList.add('active');
                else if (isPhaseCompleted(phase)) btn.classList.add('completed');
            });
            // Update phase cards
            document.querySelectorAll('[data-phase-card]').forEach(card => {
                const phase = parseInt(card.dataset.phaseCard);
                card.classList.remove('active', 'completed');
                if (phase === currentPhase) card.classList.add('active');
                else if (isPhaseCompleted(phase)) card.classList.add('completed');
            });
        }

        function isPhaseCompleted(phase) {
            const req = { 1: ['objectName','objectFunction','whyChoice'], 2: ['problemDescription','projectObjective'], 3: ['solutionName','solutionDescription','fixationSystem','functionalities'], 4: ['modelingSteps'], 5: [] };
            return (req[phase] || []).every(f => formData[f] && formData[f].toString().trim() !== '');
        }

        function updateProgress() {
            collectFormData();
            const allFields = document.querySelectorAll('[data-field]');
            let filled = 0, total = 0;
            const counted = new Set();
            allFields.forEach(el => {
                if (el.type === 'radio') {
                    if (!counted.has(el.name)) {
                        counted.add(el.name);
                        total++;
                        if (Array.from(document.querySelectorAll(`input[name="${el.name}"]`)).some(r => r.checked)) filled++;
                    }
                } else if (el.type === 'checkbox') {
                    if (el.checked) filled++;
                    total++;
                } else {
                    total++;
                    if (el.value && el.value.trim() !== '') filled++;
                }
            });
            const pct = Math.round((filled / total) * 100);
            document.getElementById('progressPercentage').textContent = `${pct}%`;
            document.getElementById('progressFill').style.width = `${pct}%`;
            updatePhaseNavigation();
        }

        function exportJSON() {
            saveToStorage();
            const data = { ...formData, _exportDate: new Date().toISOString(), _version: '1.0' };
            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const name = (formData.studentName || 'eleve').toLowerCase().replace(/[^a-z0-9]/g, '_');
            const date = new Date().toISOString().split('T')[0];
            const a = document.createElement('a');
            a.href = url;
            a.download = `cahier_charges_${name}_${date}.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            showToast('Fichier export√©', 'success');
        }

        function importJSON(event) {
            const file = event.target.files[0];
            if (!file) return;
            const reader = new FileReader();
            reader.onload = (e) => {
                try {
                    formData = JSON.parse(e.target.result);
                    if (formData._currentPhase) currentPhase = formData._currentPhase;
                    populateForm();
                    saveToStorage();
                    updateProgress();
                    goToPhase(currentPhase, false);
                    showToast('Fichier import√©', 'success');
                } catch (error) {
                    showToast('Fichier invalide', 'error');
                }
            };
            reader.readAsText(file);
            event.target.value = '';
        }

        function showResetModal() { document.getElementById('resetModal').classList.add('active'); }
        function showCompletionModal() { saveToStorage(); document.getElementById('completionModal').classList.add('active'); }
        function closeModal(id) { document.getElementById(id).classList.remove('active'); }

        document.querySelectorAll('.modal-overlay').forEach(overlay => {
            overlay.addEventListener('click', (e) => { if (e.target === overlay) overlay.classList.remove('active'); });
        });

        function resetForm() {
            localStorage.removeItem(STORAGE_KEY);
            formData = {};
            document.querySelectorAll('[data-field]').forEach(el => {
                if (el.type === 'checkbox' || el.type === 'radio') {
                    el.checked = false;
                    const parent = el.closest('.checkbox-item');
                    if (parent) parent.classList.remove('checked');
                } else el.value = '';
            });
            currentPhase = 1;
            goToPhase(1, false);
            updateProgress();
            closeModal('resetModal');
            showToast('Formulaire r√©initialis√©', 'success');
        }

        function showToast(message, type = 'success') {
            const toast = document.getElementById('toast');
            toast.querySelector('.toast__icon').textContent = type === 'success' ? '‚úì' : '‚úï';
            toast.querySelector('.toast__message').textContent = message;
            toast.classList.remove('show', 'success', 'error');
            toast.classList.add('show', type);
            setTimeout(() => toast.classList.remove('show'), 3000);
        }

        document.addEventListener('keydown', (e) => {
            if (e.ctrlKey && e.key === 's') {
                e.preventDefault();
                saveToStorage();
                showToast('Sauvegard√© manuellement', 'success');
            }
            if (e.key === 'Escape') {
                document.querySelectorAll('.modal-overlay.active').forEach(m => m.classList.remove('active'));
            }
        });
    </script>
</body>
</html>