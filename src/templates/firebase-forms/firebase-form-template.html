<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-template="PAGE_TITLE">Fiche d'Activit√© - Technologie</title>

    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>

    <!-- Styles du template -->
    <link rel="stylesheet" href="firebase-form-styles.css">

    <!-- Configuration Firebase (√† personnaliser) -->
    <script src="firebase-config.js"></script>
</head>
<body>
    <div class="container" id="ficheContent">
        <!-- En-t√™te avec informations √©l√®ve -->
        <div class="header">
            <div class="header-left">
                <div class="info-grid">
                    <div class="form-group">
                        <label>Pr√©nom <span class="required">*</span></label>
                        <input type="text" id="prenom" placeholder="Pr√©nom" required>
                    </div>
                    <div class="form-group">
                        <label>Nom <span class="required">*</span></label>
                        <input type="text" id="nom" placeholder="Nom" required>
                    </div>
                    <div class="form-group">
                        <label>Classe <span class="required">*</span></label>
                        <select id="classe" required>
                            <option value="">-- S√©lectionnez --</option>
                            <option value="302">302</option>
                            <option value="303">303</option>
                            <option value="304">304</option>
                            <option value="305">305</option>
                            <option value="306">306</option>
                            <option value="401">401</option>
                            <option value="402">402</option>
                            <option value="403">403</option>
                            <option value="404">404</option>
                            <option value="405">405</option>
                            <option value="505">505</option>
                            <option value="506">506</option>
                            <option value="507">507</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Date <span class="required">*</span></label>
                        <input type="date" id="date" required>
                    </div>
                </div>
            </div>
        </div>

        <!-- Titre principal -->
        <h1 data-template="FORM_TITLE">Fiche d'Activit√© - Technologie</h1>

        <!-- Zone de contenu personnalisable -->
        <div data-template="CUSTOM_CONTENT">
            <!--
                INSTRUCTIONS :
                Remplacez cette section par votre contenu personnalis√©.
                Vous pouvez utiliser :
                - Des sections avec class="section"
                - Des champs de formulaire avec class="form-group"
                - Des contenus en lecture seule avec class="read-only-content"
                - Des zones de contenu avec class="content-box"
            -->

            <!-- Exemple de section -->
            <div class="section">
                <div class="section-title">
                    üìù Section d'exemple
                </div>

                <div class="content-box">
                    <h3>Titre du contenu</h3>
                    <p>Contenu de votre activit√©...</p>
                </div>

                <div class="form-group">
                    <label>Question exemple <span class="required">*</span></label>
                    <textarea id="question_exemple" placeholder="Votre r√©ponse..." required></textarea>
                    <div class="help-text">Texte d'aide pour l'√©l√®ve</div>
                </div>
            </div>
        </div>

        <!-- Boutons de contr√¥le -->
        <div class="controls-container">
            <button type="button" id="saveBtn" class="btn-action btn-save">
                üíæ Enregistrer vos r√©ponses
            </button>
            <button type="button" id="exportJsonBtn" class="btn-action btn-json">
                üì¶ Exporter
            </button>
            <button type="button" id="resetBtn" class="btn-action btn-reset">
                üîÑ R√©initialiser
            </button>
        </div>

        <!-- Messages de feedback -->
        <div id="successMessage" class="success-message">
            ‚úÖ <strong>Succ√®s !</strong> Ta fiche a √©t√© enregistr√©e avec succ√®s dans la base de donn√©es.
        </div>
        <div id="errorMessage" class="error-message">
            ‚ùå <strong>Erreur !</strong> <span id="errorText"></span>
        </div>

        <div style="text-align: center; margin-top: 30px; color: #7f8c8d; font-size: 12px;">
            <span data-template="FOOTER_TEXT">Coll√®ge Moulin √† vent ‚Äì Technologie au coll√®ge</span><br>
            <span data-template="FOOTER_COMPETENCES">Comp√©tences travaill√©es : Analyser des syst√®mes techniques ‚Ä¢ Comprendre les flux d'information</span>
        </div>
    </div>

    <!-- Script Firebase r√©utilisable -->
    <script src="firebase-form-handler.js"></script>

    <!-- Configuration personnalis√©e du formulaire -->
    <script>
        // ============================================
        // CONFIGURATION DU FORMULAIRE
        // ============================================

        const formConfig = {
            // Nom de la collection Firestore
            collectionName: 'nom_de_votre_collection',

            // Type de fiche (pour identification)
            ficheType: 'type-de-fiche',

            // Probl√©matique ou titre de l'activit√©
            problematique: 'Votre probl√©matique',

            // Liste des champs obligatoires (IDs des √©l√©ments)
            requiredFields: [
                'prenom',
                'nom',
                'classe',
                'date',
                'question_exemple'
                // Ajoutez ici les IDs de vos champs personnalis√©s
            ],

            // Fonction pour collecter les donn√©es personnalis√©es
            collectCustomData: function() {
                return {
                    questionExemple: document.getElementById('question_exemple')?.value.trim()
                    // Ajoutez ici vos champs personnalis√©s
                };
            },

            // Nom du fichier pour l'export JSON
            exportFileName: function(data) {
                return `fiche-${formConfig.ficheType}-${data.nom || 'sans-nom'}.json`;
            }
        };

        // Initialiser le formulaire avec la configuration
        initFirebaseForm(formConfig);
    </script>
</body>
</html>
