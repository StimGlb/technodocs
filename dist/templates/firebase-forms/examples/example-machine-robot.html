<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fiche d'Activit√© - Machine vs Robot - Exemple</title>

    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>

    <!-- Styles du template -->
    <link rel="stylesheet" href="../firebase-form-styles.css">

    <!-- Configuration Firebase -->
    <script src="../firebase-config.js"></script>
</head>
<body>
    <div class="container" id="ficheContent">
        <!-- En-t√™te -->
        <div class="header">
            <div class="header-left">
                <div class="info-grid">
                    <div class="form-group">
                        <label>Pr√©nom <span class="required">*</span></label>
                        <input type="text" id="prenom" placeholder="Pr√©nom" required>
                    </div>
                    <div class="form-group">
                        <label>Nom <span class="required">*</span></label>
                        <input type="text" id="nom" placeholder="Nom" required>
                    </div>
                    <div class="form-group">
                        <label>Classe <span class="required">*</span></label>
                        <input type="text" id="classe" placeholder="Ex: 5√®meA" required>
                    </div>
                    <div class="form-group">
                        <label>Date <span class="required">*</span></label>
                        <input type="date" id="date" required>
                    </div>
                </div>
            </div>
        </div>

        <h1>Fiche d'Activit√© - Machine vs Robot</h1>

        <!-- Objet Syst√®me Technique -->
        <div class="read-only-content">
            <label style="margin-bottom: 5px;">üîß Objet Syst√®me Technique</label>
            <p><strong>Machines et Robots</strong> (lave-linge, aspirateur autonome, bras robotique, drone...)</p>
        </div>

        <!-- Probl√©matique -->
        <div class="read-only-content" style="background-color: #e8f4f8;">
            <label style="margin-bottom: 5px;">‚ùì Probl√©matique</label>
            <p style="font-size: 18px; font-weight: 600; color: #2c3e50;">
                Quelles sont les diff√©rences entre une machine et un robot ?
            </p>
        </div>

        <!-- Activit√© 1 -->
        <div class="section">
            <div class="section-title">
                üìù Activit√© 1 : D√©couverte et observation
            </div>

            <div class="content-box">
                <h3>Exemples de machines et de robots</h3>
                <p><strong>Machines :</strong></p>
                <ul>
                    <li>Lave-linge : effectue des cycles programm√©s de lavage</li>
                    <li>Perceuse √©lectrique : transforme l'√©nergie √©lectrique en mouvement de rotation</li>
                    <li>Four micro-ondes : chauffe les aliments selon un programme</li>
                    <li>Ventilateur : fait circuler l'air √† diff√©rentes vitesses</li>
                </ul>

                <p style="margin-top: 15px;"><strong>Robots :</strong></p>
                <ul>
                    <li>Aspirateur autonome : se d√©place seul, √©vite les obstacles, retourne √† sa base</li>
                    <li>Bras robotique industriel : effectue des t√¢ches complexes avec pr√©cision</li>
                    <li>Drone : vole de mani√®re autonome ou pilot√©e, √©vite les collisions</li>
                    <li>Robot tondeuse : tond la pelouse en naviguant de mani√®re autonome</li>
                </ul>
            </div>

            <div class="form-group">
                <label>√Ä toi de jouer ! Cite 2 machines et 2 robots que tu connais <span class="required">*</span></label>
                <textarea id="exemples_machines_robots" placeholder="Exemples :
Machines : ...
Robots : ..." required></textarea>
                <div class="help-text">Donne des exemples concrets que tu utilises ou que tu as d√©j√† vus</div>
            </div>
        </div>

        <!-- Activit√© 2 -->
        <div class="section">
            <div class="section-title">
                üîç Activit√© 2 : Comparaison et analyse
            </div>

            <div class="content-box">
                <h3>Tableau comparatif</h3>

                <table>
                    <thead>
                        <tr>
                            <th>Crit√®re</th>
                            <th>Machine</th>
                            <th>Robot</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Autonomie</strong></td>
                            <td>N√©cessite une action humaine</td>
                            <td>Peut fonctionner de mani√®re autonome</td>
                        </tr>
                        <tr>
                            <td><strong>Capteurs</strong></td>
                            <td>Peu ou pas de capteurs</td>
                            <td>√âquip√© de nombreux capteurs</td>
                        </tr>
                        <tr>
                            <td><strong>Programmation</strong></td>
                            <td>Programme fixe et simple</td>
                            <td>Programme complexe, peut s'adapter</td>
                        </tr>
                        <tr>
                            <td><strong>Interaction</strong></td>
                            <td>Limit√©e ou inexistante</td>
                            <td>Per√ßoit et r√©agit √† l'environnement</td>
                        </tr>
                        <tr>
                            <td><strong>Prise de d√©cision</strong></td>
                            <td>Aucune, suit des instructions</td>
                            <td>Peut prendre des d√©cisions</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="form-group">
                <label>Question : Selon toi, un lave-vaisselle est-il une machine ou un robot ? Justifie ta r√©ponse <span class="required">*</span></label>
                <textarea id="question_lave_vaisselle" placeholder="C'est une machine / un robot parce que..." required></textarea>
                <div class="help-text">Utilise les crit√®res du tableau pour justifier ton choix</div>
            </div>

            <div class="form-group">
                <label>Donne un autre exemple d'objet et dis si c'est une machine ou un robot en justifiant <span class="required">*</span></label>
                <textarea id="exemple_supplementaire" placeholder="Exemple : L'aspirateur Roomba est un robot car..." required></textarea>
            </div>
        </div>

        <!-- Conclusion -->
        <div class="section" style="border-left-color: #27ae60;">
            <div class="section-title">
                ‚úÖ Conclusion : Ce qu'il faut retenir
            </div>

            <div class="content-box" style="background-color: #d4edda; border-left: 5px solid #28a745;">
                <p><strong>D√©finition d'une MACHINE :</strong></p>
                <p>Une machine est un syst√®me technique qui transforme une forme d'√©nergie en une autre pour r√©aliser une t√¢che sp√©cifique. Elle n√©cessite g√©n√©ralement une intervention humaine pour fonctionner et suit un programme fixe.</p>

                <p style="margin-top: 15px;"><strong>D√©finition d'un ROBOT :</strong></p>
                <p>Un robot est un syst√®me automatique capable de percevoir son environnement gr√¢ce √† des capteurs, de traiter des informations et de prendre des d√©cisions. Il peut fonctionner de mani√®re autonome et s'adapter √† diff√©rentes situations.</p>

                <p style="margin-top: 15px;"><strong>Les 3 caract√©ristiques essentielles d'un robot :</strong></p>
                <ul>
                    <li><strong>üîç PERCEVOIR</strong> : il poss√®de des capteurs pour analyser son environnement</li>
                    <li><strong>üß† TRAITER</strong> : il poss√®de un syst√®me de traitement qui analyse les donn√©es</li>
                    <li><strong>‚ö° AGIR</strong> : il poss√®de des actionneurs qui lui permettent d'agir de mani√®re autonome</li>
                </ul>
            </div>

            <div class="form-group">
                <label>Synth√®se personnelle : Explique avec tes propres mots la diff√©rence principale entre une machine et un robot <span class="required">*</span></label>
                <textarea id="synthese_personnelle" placeholder="La diff√©rence principale est..." required style="min-height: 120px;"></textarea>
                <div class="help-text">Exprime ce que tu as compris avec tes propres mots</div>
            </div>
        </div>

        <!-- Boutons de contr√¥le -->
        <div class="controls-container">
            <button type="button" id="saveBtn" class="btn-action btn-save">
                üíæ Enregistrer vos r√©ponses
            </button>
            <button type="button" id="exportJsonBtn" class="btn-action btn-json">
                üì¶ Exporter JSON
            </button>
            <button type="button" id="resetBtn" class="btn-action btn-reset">
                üîÑ R√©initialiser
            </button>
        </div>

        <!-- Messages de feedback -->
        <div id="successMessage" class="success-message">
            ‚úÖ <strong>Succ√®s !</strong> Ta fiche a √©t√© enregistr√©e avec succ√®s dans la base de donn√©es.
        </div>
        <div id="errorMessage" class="error-message">
            ‚ùå <strong>Erreur !</strong> <span id="errorText"></span>
        </div>

        <div style="text-align: center; margin-top: 30px; color: #7f8c8d; font-size: 12px;">
            Coll√®ge Moulin √† vent ‚Äì Technologie au coll√®ge<br>
            Comp√©tences travaill√©es : Analyser des syst√®mes techniques ‚Ä¢ Comprendre les flux d'information
        </div>
    </div>

    <!-- Script Firebase r√©utilisable -->
    <script src="../firebase-form-handler.js"></script>

    <!-- Configuration personnalis√©e du formulaire -->
    <script>
        // ============================================
        // CONFIGURATION DU FORMULAIRE
        // ============================================

        const formConfig = {
            // Nom de la collection Firestore
            collectionName: 'fiches_machine_robot',

            // Type de fiche (pour identification)
            ficheType: 'machine-robot',

            // Probl√©matique ou titre de l'activit√©
            problematique: 'Quelles sont les diff√©rences entre une machine et un robot ?',

            // Liste des champs obligatoires (IDs des √©l√©ments)
            requiredFields: [
                'prenom',
                'nom',
                'classe',
                'date',
                'exemples_machines_robots',
                'question_lave_vaisselle',
                'exemple_supplementaire',
                'synthese_personnelle'
            ],

            // Fonction pour collecter les donn√©es personnalis√©es
            collectCustomData: function() {
                return {
                    exemplesMachinesRobots: getFieldValue('exemples_machines_robots'),
                    questionLaveVaisselle: getFieldValue('question_lave_vaisselle'),
                    exempleSupplementaire: getFieldValue('exemple_supplementaire'),
                    synthesePersonnelle: getFieldValue('synthese_personnelle')
                };
            },

            // Nom du fichier pour l'export JSON
            exportFileName: function(data) {
                return `fiche-machine-robot-${data.nom || 'sans-nom'}.json`;
            }
        };

        // Initialiser le formulaire avec la configuration
        initFirebaseForm(formConfig);
    </script>
</body>
</html>
